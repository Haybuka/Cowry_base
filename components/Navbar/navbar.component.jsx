import React, { useState, useContext } from "react";
import Link from "next/link";
import NavItem from "./navitem.component";
import navigation from "./navigation";
import MobileNav from "./mobile/mobile.component";
import styles from "../../styles/Nav.module.css";
import { NavContext } from "../../context/navcontext";
const Navbar = () => {
  const { view, handleViewClick } = useContext(NavContext);
  // let mode = view ? "mobile" : "desktop";
  return (
    <header className={`${styles.header_nav}`}>
      <nav className={`${styles.nav}`}>
        <h1 className={styles.header_heading}>
          <Link href="/">
            <svg
              width="108"
              height="33"
              viewBox="0 0 108 33"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.256 26.504C9.2 26.504 6.104 25.376 3.968 23.12C1.856 20.864 0.8 17.66 0.8 13.508C0.8 11.444 1.124 9.608 1.772 8C2.42 6.368 3.308 5 4.436 3.896C5.564 2.768 6.908 1.916 8.468 1.34C10.028 0.763998 11.72 0.475998 13.544 0.475998C14.6 0.475998 15.56 0.559999 16.424 0.727999C17.288 0.871999 18.044 1.052 18.692 1.268C19.34 1.46 19.88 1.664 20.312 1.88C20.744 2.096 21.056 2.264 21.248 2.384L19.628 6.92C18.86 6.512 17.96 6.164 16.928 5.876C15.92 5.588 14.768 5.444 13.472 5.444C12.608 5.444 11.756 5.588 10.916 5.876C10.1 6.164 9.368 6.632 8.72 7.28C8.096 7.904 7.592 8.72 7.208 9.728C6.824 10.736 6.632 11.96 6.632 13.4C6.632 14.552 6.752 15.632 6.992 16.64C7.256 17.624 7.664 18.476 8.216 19.196C8.792 19.916 9.536 20.492 10.448 20.924C11.36 21.332 12.464 21.536 13.76 21.536C14.576 21.536 15.308 21.488 15.956 21.392C16.604 21.296 17.18 21.188 17.684 21.068C18.188 20.924 18.632 20.768 19.016 20.6C19.4 20.432 19.748 20.276 20.06 20.132L21.608 24.632C20.816 25.112 19.7 25.544 18.26 25.928C16.82 26.312 15.152 26.504 13.256 26.504ZM42.1539 16.496C42.1539 17.984 41.9379 19.352 41.5059 20.6C41.0739 21.824 40.4499 22.88 39.6339 23.768C38.8179 24.632 37.8339 25.304 36.6819 25.784C35.5539 26.264 34.2819 26.504 32.8659 26.504C31.4739 26.504 30.2019 26.264 29.0499 25.784C27.9219 25.304 26.9499 24.632 26.1339 23.768C25.3179 22.88 24.6819 21.824 24.2259 20.6C23.7699 19.352 23.5419 17.984 23.5419 16.496C23.5419 15.008 23.7699 13.652 24.2259 12.428C24.7059 11.204 25.3539 10.16 26.1699 9.296C27.0099 8.432 27.9939 7.76 29.1219 7.28C30.2739 6.8 31.5219 6.56 32.8659 6.56C34.2339 6.56 35.4819 6.8 36.6099 7.28C37.7619 7.76 38.7459 8.432 39.5619 9.296C40.3779 10.16 41.0139 11.204 41.4699 12.428C41.9259 13.652 42.1539 15.008 42.1539 16.496ZM36.6819 16.496C36.6819 14.84 36.3459 13.544 35.6739 12.608C35.0259 11.648 34.0899 11.168 32.8659 11.168C31.6419 11.168 30.6939 11.648 30.0219 12.608C29.3499 13.544 29.0139 14.84 29.0139 16.496C29.0139 18.152 29.3499 19.472 30.0219 20.456C30.6939 21.416 31.6419 21.896 32.8659 21.896C34.0899 21.896 35.0259 21.416 35.6739 20.456C36.3459 19.472 36.6819 18.152 36.6819 16.496ZM57.4072 15.128C56.9272 16.952 56.4112 18.764 55.8592 20.564C55.3312 22.364 54.7672 24.176 54.1672 26H49.9912C49.5592 24.992 49.0912 23.792 48.5872 22.4C48.0832 21.008 47.5552 19.496 47.0032 17.864C46.4752 16.208 45.9232 14.468 45.3472 12.644C44.7952 10.796 44.2552 8.936 43.7272 7.064H49.3792C49.5712 7.928 49.7752 8.876 49.9912 9.908C50.2312 10.916 50.4712 11.96 50.7112 13.04C50.9752 14.12 51.2392 15.212 51.5032 16.316C51.7912 17.396 52.0792 18.44 52.3672 19.448C52.6792 18.392 52.9792 17.312 53.2672 16.208C53.5792 15.104 53.8672 14.024 54.1312 12.968C54.4192 11.888 54.6832 10.856 54.9232 9.872C55.1872 8.864 55.4152 7.928 55.6072 7.064H59.4952C59.6872 7.928 59.9032 8.864 60.1432 9.872C60.3832 10.856 60.6352 11.888 60.8992 12.968C61.1632 14.024 61.4392 15.104 61.7272 16.208C62.0152 17.312 62.3152 18.392 62.6272 19.448C62.9152 18.44 63.2032 17.396 63.4912 16.316C63.7792 15.212 64.0432 14.12 64.2832 13.04C64.5472 11.96 64.7872 10.916 65.0032 9.908C65.2432 8.876 65.4592 7.928 65.6512 7.064H71.2312C70.7032 8.936 70.1512 10.796 69.5752 12.644C69.0232 14.468 68.4712 16.208 67.9192 17.864C67.3912 19.496 66.8632 21.008 66.3352 22.4C65.8312 23.792 65.3632 24.992 64.9312 26H60.7552C60.1552 24.176 59.5672 22.364 58.9912 20.564C58.4152 18.764 57.8872 16.952 57.4072 15.128ZM85.5297 11.816C85.0497 11.696 84.4857 11.576 83.8377 11.456C83.1897 11.312 82.4937 11.24 81.7497 11.24C81.4137 11.24 81.0057 11.276 80.5257 11.348C80.0697 11.396 79.7217 11.456 79.4817 11.528V26H74.1177V8.072C75.0777 7.736 76.2057 7.424 77.5017 7.136C78.8217 6.824 80.2857 6.668 81.8937 6.668C82.1817 6.668 82.5297 6.692 82.9377 6.74C83.3457 6.764 83.7537 6.812 84.1617 6.884C84.5697 6.932 84.9777 7.004 85.3857 7.1C85.7937 7.172 86.1417 7.268 86.4297 7.388L85.5297 11.816ZM107.242 7.064C106.162 10.712 105.034 14.132 103.858 17.324C102.682 20.516 101.398 23.612 100.006 26.612C99.5022 27.692 98.9982 28.604 98.4942 29.348C97.9902 30.116 97.4382 30.74 96.8382 31.22C96.2382 31.724 95.5542 32.084 94.7862 32.3C94.0422 32.54 93.1662 32.66 92.1582 32.66C91.3182 32.66 90.5382 32.576 89.8182 32.408C89.1222 32.264 88.5462 32.096 88.0902 31.904L89.0262 27.62C89.5782 27.812 90.0702 27.944 90.5022 28.016C90.9342 28.088 91.3902 28.124 91.8702 28.124C92.8302 28.124 93.5622 27.86 94.0662 27.332C94.5942 26.828 95.0382 26.12 95.3982 25.208C94.1742 22.808 92.9502 20.12 91.7262 17.144C90.5022 14.144 89.3502 10.784 88.2702 7.064H93.9582C94.1982 8 94.4742 9.02 94.7862 10.124C95.1222 11.204 95.4702 12.308 95.8302 13.436C96.1902 14.54 96.5502 15.62 96.9102 16.676C97.2942 17.732 97.6542 18.692 97.9902 19.556C98.3022 18.692 98.6262 17.732 98.9622 16.676C99.2982 15.62 99.6222 14.54 99.9342 13.436C100.27 12.308 100.582 11.204 100.87 10.124C101.182 9.02 101.458 8 101.698 7.064H107.242Z"
                fill="#0E60E2"
              ></path>
            </svg>
          </Link>
        </h1>
        <ul className={styles.nav_item}>
          {navigation.map((nav, id) => (
            <NavItem key={id} nav={nav} />
          ))}
          <li className={`${styles.btn_download} ${styles.btn}`}>
            Download app
          </li>
        </ul>
        <div className={styles.harmburger} onClick={handleViewClick}>
          <span className="h-1 w-8 bg-base_highlight_bg my-1 block"></span>
          <span className="h-1 w-8 bg-base_highlight_bg my-1 block"></span>
        </div>
      </nav>

      {view && <MobileNav dropClass="relative" navigation={navigation} />}
    </header>
  );
};

export default Navbar;
